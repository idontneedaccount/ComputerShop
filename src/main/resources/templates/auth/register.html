<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
	<meta charset="UTF-8">
	<title>Đăng ký - Computer Shop</title>
	<link rel="stylesheet" href="/assets/css/vendor/bootstrap.min.css" th:href="@{/assets/css/vendor/bootstrap.min.css}"/>
	<link rel="stylesheet" href="/assets/css/style.min.css" th:href="@{/assets/css/style.min.css}"/>
	<link rel="stylesheet" href="/assets/css/login-custom.css" th:href="@{/assets/css/login-custom.css}"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
	<div class="axil-login-area">
		<div class="form-container">
			<h3>Đăng ký tài khoản mới</h3>

			<!-- Error Messages -->
			<div th:if="${error}" class="error" role="alert" th:text="${error}"></div>

			<form th:action="@{/auth/register}" th:object="${user}" method="post" style="width:100%">
				<div class="input-group">
					<span class="input-icon"><i class="fas fa-user"></i></span>
					<label for="username" class="form-label" hidden="hidden">Tên đăng nhập</label>
					<input type="text" id="username" th:field="*{username}" class="form-control" placeholder="Tên đăng nhập" required>
				</div>
				<div th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="error"></div>

				<div class="input-group password-group">
					<span class="input-icon"><i class="fas fa-lock"></i></span>
					<label for="password" class="form-label" hidden="hidden">Mật khẩu</label>
					<input type="password" id="password" th:field="*{password}" class="form-control" placeholder="Mật khẩu" required>
					<span class="toggle-password-eye" onclick="togglePassword('password', 'eyeIcon1')">
						<i id="eyeIcon1" class="fa fa-eye"></i>
					</span>
				</div>
				<div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="error"></div>

				<div class="input-group password-group">
					<span class="input-icon"><i class="fas fa-lock"></i></span>
					<label for="passwordConfirm" class="form-label" hidden="hidden">Xác nhận mật khẩu</label>
					<input type="password" id="passwordConfirm" th:field="*{passwordConfirm}" class="form-control" placeholder="Xác nhận mật khẩu" required>
					<span class="toggle-password-eye" onclick="togglePassword('passwordConfirm', 'eyeIcon2')">
						<i id="eyeIcon2" class="fa fa-eye"></i>
					</span>
				</div>
				<div th:if="${#fields.hasErrors('passwordConfirm')}" th:errors="*{passwordConfirm}" class="error"></div>

				<div class="input-group">
					<span class="input-icon"><i class="fas fa-user-circle"></i></span>
					<label for="fullName" class="form-label" hidden="hidden">Họ và tên</label>
					<input type="text" id="fullName" th:field="*{fullName}" class="form-control" placeholder="Họ và tên" required>
				</div>
				<div th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}" class="error"></div>

				<div class="input-group">
					<span class="input-icon"><i class="fas fa-envelope"></i></span>
					<label for="email" class="form-label" hidden="hidden">Email</label>
					<input type="email" id="email" th:field="*{email}" class="form-control" placeholder="Email" required>
				</div>
				<div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="error"></div>

				<div class="input-group">
					<span class="input-icon"><i class="fas fa-phone"></i></span>
					<label for="phoneNumber" class="form-label" hidden="hidden">Số điện thoại</label>
					<input type="tel" id="phoneNumber" th:field="*{phoneNumber}" class="form-control" placeholder="Số điện thoại" required>
				</div>
				<div th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}" class="error"></div>


				<div class="d-grid gap-2">
					<button type="submit" class="btn btn-primary w-100">Đăng ký</button>
				</div>

				<div class="mt-3">
					<p>Đã có tài khoản? <a th:href="@{/auth/login}">Đăng nhập</a></p>
				</div>

				<div class="social-login">
					<span>Hoặc đăng ký bằng</span>
					<div class="social-icons">
						<a href="#" class="social-btn google" title="Sign in with Google">
							<i class="fab fa-google"></i>
						</a>
						<a href="#" class="social-btn github" title="Sign in with Github">
							<i class="fab fa-github"></i>
						</a>
						<a th:href="@{/oauth2/authorization/facebook}" class="social-btn facebook" title="Đăng nhập bằng Facebook">
							<i class="fab fa-facebook-f"></i>
						</a>
					</div>
				</div>
			</form>
		</div>
	</div>

	<script>
		function togglePassword(inputId, eyeId) {
			var pwd = document.getElementById(inputId);
			var eye = document.getElementById(eyeId);
			if (pwd.type === "password") {
				pwd.type = "text";
				eye.classList.remove("fa-eye");
				eye.classList.add("fa-eye-slash");
			} else {
				pwd.type = "password";
				eye.classList.remove("fa-eye-slash");
				eye.classList.add("fa-eye");
			}
		}

	</script>
</body>

</html>