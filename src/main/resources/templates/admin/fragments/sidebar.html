<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="vi">
<p sec:authentication="principal.authorities"></p>
<ul class="sidebar navbar-nav" id="accordionSidebar" th:fragment="sidebar" lang="vi">
    <li class="nav-item active" sec:authorize="hasAnyRole('Admin', 'Sales')">
        <a class="nav-link" th:href="@{/admin/dashboard}">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>Trang Chủ</span>
        </a>
    </li>
    <li class="nav-item active" sec:authorize="hasRole('Shipper')">
        <a class="nav-link" th:href="@{/shipper/dashboard}">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>Trang Chủ</span>
        </a>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin','Sales')">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseCategories"
           aria-expanded="false" aria-controls="collapseCategories">
            <i class="fas fa-fw fa-tags"></i>
            <span>Quản lí danh mục</span>
        </a>
        <div id="collapseCategories" class="collapse" aria-labelledby="headingCategories" data-parent="#accordionSidebar">
            <div class="collapse-inner">
                <a class="collapse-item" th:href="@{/admin/categories}">
                    <i class="fas fa-list mr-2"></i>Danh sách danh mục
                </a>
                <a class="collapse-item" th:href="@{add-categories}">
                    <i class="fas fa-plus mr-2"></i>Thêm danh mục
                </a>
            </div>
        </div>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseProducts"
           aria-expanded="false" aria-controls="collapseProducts">
            <i class="fas fa-fw fa-box"></i>
            <span>Quản lí sản phẩm</span>
        </a>
        <div id="collapseProducts" class="collapse" aria-labelledby="headingProducts" data-parent="#accordionSidebar">
            <div class="collapse-inner">
                <a class="collapse-item" th:href="@{/admin/product}">
                    <i class="fas fa-list mr-2"></i>Danh sách sản phẩm
                </a>
                <a class="collapse-item" th:href="@{/admin/add-product}">
                    <i class="fas fa-plus mr-2"></i>Thêm sản phẩm
                </a>
            </div>
        </div>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUsers"
           aria-expanded="false" aria-controls="collapseUsers">
            <i class="fas fa-fw fa-users"></i>
            <span>Quản lí người dùng</span>
        </a>
        <div id="collapseUsers" class="collapse" aria-labelledby="headingUsers" data-parent="#accordionSidebar">
            <div class="collapse-inner">
                <a class="collapse-item" th:href="@{/admin/user}">
                    <i class="fas fa-list mr-2"></i>Danh sách người dùng
                </a>
                <a class="collapse-item" th:href="@{/admin/add-user}">
                    <i class="fas fa-user-plus mr-2"></i>Thêm người dùng
                </a>
            </div>
        </div>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseVouchers"
           aria-expanded="false" aria-controls="collapseVouchers">
            <i class="fas fa-fw fa-ticket-alt"></i>
            <span>Quản lí voucher</span>
        </a>
        <div id="collapseVouchers" class="collapse" aria-labelledby="headingVouchers" data-parent="#accordionSidebar">
            <div class="collapse-inner">
                <a class="collapse-item" th:href="@{/admin/vouchers}">
                    <i class="fas fa-list mr-2"></i>Danh sách voucher
                </a>
                <a class="collapse-item" th:href="@{/admin/vouchers/add}">
                    <i class="fas fa-plus mr-2"></i>Thêm voucher
                </a>
            </div>
        </div>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a th:href="@{/admin/product-variants/field-config}" class="nav-link">
            <i class="fas fa-fw fa-cogs"></i>
            <span>Quản lý trường tùy chỉnh</span>
        </a>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a class="nav-link" th:href="@{/admin/orders}">
            <i class="fas fa-fw fa-shopping-cart"></i>
            <span>Quản lí đơn hàng</span>
        </a>
    </li>
    <!-- Shipper specific menu items -->
    <li class="nav-item" sec:authorize="hasRole('Shipper')">
        <a class="nav-link" th:href="@{/shipper/dashboard}">
            <i class="fas fa-fw fa-truck"></i>
            <span>Dashboard Giao Hàng</span>
        </a>
    </li>
    <li class="nav-item" sec:authorize="hasRole('Shipper')">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseShipperOrders"
           aria-expanded="false" aria-controls="collapseShipperOrders">
            <i class="fas fa-fw fa-shipping-fast"></i>
            <span>Quản lí giao hàng</span>
        </a>
        <div id="collapseShipperOrders" class="collapse" aria-labelledby="headingShipperOrders" data-parent="#accordionSidebar">
            <div class="collapse-inner">
                <a class="collapse-item" th:href="@{/shipper/orders}">
                    <i class="fas fa-list mr-2"></i>Tất cả đơn hàng
                </a>
                <a class="collapse-item" th:href="@{/shipper/orders?status=PROCESSING}">
                    <i class="fas fa-clock text-warning mr-2"></i>Đang xử lý
                </a>
                <a class="collapse-item" th:href="@{/shipper/orders?status=SHIPPED}">
                    <i class="fas fa-shipping-fast text-info mr-2"></i>Đang giao hàng
                </a>
                <a class="collapse-item" th:href="@{/shipper/orders?status=DELIVERED}">
                    <i class="fas fa-check-circle text-success mr-2"></i>Đã giao hàng
                </a>
            </div>
        </div>
    </li>
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseWarehouse" aria-expanded="false" aria-controls="collapseWarehouse">
            <i class="fas fa-warehouse"></i>
            <span>Quản lý kho</span>
        </a>
        <div id="collapseWarehouse" class="collapse" aria-labelledby="headingWarehouse" data-parent="#accordionSidebar">
            <div class="collapse-inner">
                <a class="collapse-item" th:href="@{/admin/purchase-orders}">
                    <i class="fas fa-arrow-down mr-2"></i>Nhập kho
                </a>
                <a class="collapse-item" th:href="@{/admin/export-orders}">
                    <i class="fas fa-arrow-up mr-2"></i>Xuất kho
                </a>
            </div>
        </div>
    </li>
    <!-- Thống kê - Toggle statistics -->
    <li class="nav-item">
        <a class="nav-link" href="#" onclick="toggleStatistics(); return false;" id="statisticsToggle">
            <i class="fas fa-fw fa-chart-pie"></i>
            <span>Thống kê</span>
        </a>
    </li>

    <!-- Báo cáo - Dropdown menu -->
    <li class="nav-item" sec:authorize="hasAnyRole('Admin')">
        <a class="nav-link collapsed" href="#" onclick="toggleReportsMenu(event); return false;">
            <i class="fas fa-fw fa-chart-line"></i>
            <span>Báo cáo</span>
        </a>
        <div id="collapseReports" class="collapse">
            <div class="collapse-inner">
                <h6 class="collapse-header">Các loại báo cáo:</h6>
                <a class="collapse-item" th:href="@{/admin/reports/sales}">Doanh số</a>
                <a class="collapse-item" th:href="@{/admin/reports/products}">Sản phẩm</a>
                <a class="collapse-item" th:href="@{/admin/reports/customers}">Khách hàng</a>
            </div>
        </div>
    </li>
</ul>
</html>
