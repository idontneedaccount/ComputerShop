<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="utf-8">
    <title>Order Success</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 40px; border-radius: 8px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .success-icon { font-size: 80px; color: #28a745; margin-bottom: 20px; }
        h1 { color: #28a745; margin-bottom: 10px; }
        h2 { color: #495057; margin: 30px 0 20px 0; text-align: left; }
        
        .order-info { background: #f8f9fa; padding: 25px; border-radius: 8px; margin: 30px 0; text-align: left; }
        .shipping-info { background: #e7f3ff; padding: 25px; border-radius: 8px; margin: 30px 0; text-align: left; border-left: 4px solid #007bff; }
        
        .info-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #eee; }
        .info-row:last-child { border-bottom: none; }
        .info-row.total { font-weight: bold; font-size: 18px; background: rgba(40, 167, 69, 0.1); margin: 0 -25px; padding: 15px 25px; border-radius: 6px; }
        
        .info-label { font-weight: 600; color: #495057; }
        .info-value { color: #212529; }
        .shipping-method { color: #007bff; font-weight: 600; }
        .free-shipping { color: #28a745; font-weight: 600; }
        .paid-shipping { color: #dc3545; font-weight: 600; }
        
        .btn { background: #007bff; color: white; padding: 15px 30px; border: none; border-radius: 4px; text-decoration: none; display: inline-block; margin: 10px; transition: all 0.3s; }
        .btn:hover { background: #0056b3; transform: translateY(-1px); }
        .btn-secondary { background: #6c757d; }
        .btn-secondary:hover { background: #545b62; }
        
        .next-steps { margin-top: 30px; padding: 25px; background: #e7f3ff; border-radius: 8px; text-align: left; }
        .next-steps h4 { color: #007bff; margin-bottom: 15px; }
        .next-steps p { margin: 8px 0; color: #495057; }
        .next-steps p::before { content: "‚Ä¢ "; color: #007bff; font-weight: bold; }
        
        .status-badge { padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; text-transform: uppercase; }
        .status-pending { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <div class="container">
        <div class="success-icon">‚úÖ</div>
        <h1>ƒê·∫∑t h√†ng th√†nh c√¥ng!</h1>
        <p>C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t h√†ng. ƒê∆°n h√†ng c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ti·∫øp nh·∫≠n v√† ƒëang ƒë∆∞·ª£c x·ª≠ l√Ω.</p>
        
        <!-- Order Details -->
        <div class="order-info" th:if="${order != null}">
            <h2>üìã Th√¥ng tin ƒë∆°n h√†ng</h2>
            <div class="info-row">
                <span class="info-label">M√£ ƒë∆°n h√†ng:</span>
                <span class="info-value" th:text="${order.id}">123</span>
            </div>
            <div class="info-row">
                <span class="info-label">Kh√°ch h√†ng:</span>
                <span class="info-value" th:text="${order.customerName}">Customer Name</span>
            </div>
            <div class="info-row">
                <span class="info-label">Email:</span>
                <span class="info-value" th:text="${order.customerEmail}">email@example.com</span>
            </div>
            <div class="info-row">
                <span class="info-label">S·ªë ƒëi·ªán tho·∫°i:</span>
                <span class="info-value" th:text="${order.customerPhone}">Phone</span>
            </div>
            <div class="info-row">
                <span class="info-label">Ng√†y ƒë·∫∑t h√†ng:</span>
                <span class="info-value" th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy HH:mm')}">Date</span>
            </div>
            <div class="info-row">
                <span class="info-label">Tr·∫°ng th√°i:</span>
                <span class="status-badge status-pending" th:text="${order.status}">PENDING</span>
            </div>
            <div class="info-row">
                <span class="info-label">Ph∆∞∆°ng th·ª©c thanh to√°n:</span>
                <span class="info-value" th:text="${order.paymentMethod == 'COD' ? 'Thanh to√°n khi nh·∫≠n h√†ng' : order.paymentMethod}">COD</span>
            </div>
        </div>

        <!-- Shipping Information -->
        <div class="shipping-info" th:if="${order != null}">
            <h2>üöö Th√¥ng tin giao h√†ng</h2>
            <div class="info-row">
                <span class="info-label">ƒê·ªãa ch·ªâ giao h√†ng:</span>
                <span class="info-value" th:text="${order.shippingAddress}">Address</span>
            </div>
            <div class="info-row">
                <span class="info-label">Ph∆∞∆°ng th·ª©c giao h√†ng:</span>
                <span class="shipping-method" th:text="${order.shippingMethod == 'standard' ? 'Giao h√†ng ti√™u chu·∫©n (2-8 ng√†y)' : order.shippingMethod}">Standard</span>
            </div>
            <div class="info-row" th:if="${order.distance != null and order.distance > 0}">
                <span class="info-label">Kho·∫£ng c√°ch:</span>
                <span class="info-value">
                    <span th:text="${#numbers.formatDecimal(order.distance, 1, 'POINT', 1, 'POINT')}">0.0</span> km
                </span>
            </div>
            <div class="info-row">
                <span class="info-label">Ph√≠ giao h√†ng:</span>
                <span th:if="${order.shippingFee != null and order.shippingFee > 0}" 
                      class="paid-shipping" 
                      th:text="${#numbers.formatDecimal(order.shippingFee, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'">0 ‚Ç´</span>
                <span th:if="${order.shippingFee == null or order.shippingFee == 0}" 
                      class="free-shipping">Mi·ªÖn ph√≠</span>
            </div>
            <div class="info-row" th:if="${order.distance != null and order.distance > 0}">
                <span class="info-label">Th·ªùi gian giao h√†ng d·ª± ki·∫øn:</span>
                <span class="info-value">
                    <span th:if="${order.distance <= 50}">2-3 ng√†y</span>
                    <span th:if="${order.distance > 50 and order.distance <= 500}">4-5 ng√†y</span>
                    <span th:if="${order.distance > 500 and order.distance <= 1000}">6-7 ng√†y</span>
                    <span th:if="${order.distance > 1000}">8-10 ng√†y</span>
                </span>
            </div>
            <div class="info-row" th:if="${order.note != null and !#strings.isEmpty(order.note)}">
                <span class="info-label">Ghi ch√∫:</span>
                <span class="info-value" th:text="${order.note}">Note</span>
            </div>
        </div>

        <!-- Order Summary -->
        <div class="order-info" th:if="${order != null}">
            <h2>üí∞ T·ªïng quan ƒë∆°n h√†ng</h2>
            <div class="info-row">
                <span class="info-label">T·ªïng ti·ªÅn h√†ng:</span>
                <span class="info-value" th:text="${#numbers.formatDecimal((order.totalAmount - (order.shippingFee ?: 0)), 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'">0 ‚Ç´</span>
            </div>
            <div class="info-row">
                <span class="info-label">Ph√≠ giao h√†ng:</span>
                <span th:if="${order.shippingFee != null and order.shippingFee > 0}" 
                      class="info-value" 
                      th:text="${#numbers.formatDecimal(order.shippingFee, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'">0 ‚Ç´</span>
                <span th:if="${order.shippingFee == null or order.shippingFee == 0}" 
                      class="free-shipping">Mi·ªÖn ph√≠</span>
            </div>
            <div class="info-row total">
                <span class="info-label">T·ªïng thanh to√°n:</span>
                <span class="info-value" th:text="${#numbers.formatDecimal(order.totalAmount, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'">0 ‚Ç´</span>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div>
            <a href="/cart/view" class="btn btn-secondary">Ti·∫øp t·ª•c mua s·∫Øm</a>
            <a href="/products" class="btn">Xem s·∫£n ph·∫©m kh√°c</a>
        </div>
        
        <!-- Next Steps -->
        <div class="next-steps">
            <h4>üìß C√°c b∆∞·ªõc ti·∫øp theo</h4>
            <p>B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c email x√°c nh·∫≠n ƒë∆°n h√†ng trong √≠t ph√∫t</p>
            <p>ƒê∆°n h√†ng s·∫Ω ƒë∆∞·ª£c x·ª≠ l√Ω trong v√≤ng 1-2 ng√†y l√†m vi·ªác</p>
            <p>ƒê·ªëi v·ªõi ƒë∆°n h√†ng COD, vui l√≤ng chu·∫©n b·ªã ti·ªÅn m·∫∑t v·ª´a ƒë·ªß</p>
            <p>ƒê·ªÉ theo d√µi ƒë∆°n h√†ng, vui l√≤ng l∆∞u l·∫°i m√£ ƒë∆°n h√†ng</p>
            <p>C√≥ th·∫Øc m·∫Øc? Li√™n h·ªá: support@computershop.com ho·∫∑c hotline: 1900-xxxx</p>
        </div>
    </div>
</body>
</html> 